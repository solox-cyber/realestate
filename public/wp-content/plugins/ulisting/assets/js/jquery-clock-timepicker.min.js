!function(e){e.fn.clockTimePicker=function(t,o){var a,r=e.extend(!0,{afternoonHoursInOuterCircle:!1,autosize:!1,colors:{buttonTextColor:"#0797FF",clockFaceColor:"#EEEEEE",clockInnerCircleTextColor:"#888888",clockInnerCircleUnselectableTextColor:"#CCCCCC",clockOuterCircleTextColor:"#000000",clockOuterCircleUnselectableTextColor:"#CCCCCC",hoverCircleColor:"#DDDDDD",popupBackgroundColor:"#FFFFFF",popupHeaderBackgroundColor:"#0797FF",popupHeaderTextColor:"#FFFFFF",selectorColor:"#0797FF",selectorNumberColor:"#FFFFFF",signButtonColor:"#FFFFFF",signButtonBackgroundColor:"#0797FF"},duration:!1,durationNegative:!1,fonts:{fontFamily:"Arial",clockOuterCircleFontSize:14,clockInnerCircleFontSize:12,buttonFontSize:20},hideUnselectableNumbers:!1,i18n:{okButton:"OK",cancelButton:"Cancel"},maximum:"23:59",minimum:"-23:59",modeSwitchSpeed:500,onlyShowClockOnMobile:!1,onAdjust:function(e,t){},onChange:function(e,t){},onClose:function(){},onModeSwitch:function(){},onOpen:function(){},popupWidthOnDesktop:200,precision:1,required:!1,separator:":",useAmPm:!1,useDurationPlusSign:!1,vibrate:!0},"object"==typeof t?t:{}),n=".clock-timepicker input { caret-color: white; }";if(s()&&(n+=" .clock-timepicker input::selection { background:rgba(255,255,255,0.6); } .clock-timepicker input::-moz-selection { background:rgba(255,255,255,0.6); }"),a=!1,e("head style").each(function(){if(e(this).text()==n)return a=!0,!1}),!a){var c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=n:c.appendChild(document.createTextNode(n)),(document.head||document.getElementsByTagName("head")[0]).appendChild(c)}return this.each(function(){var a=e(this),n=a.data();for(var c in n)r.hasOwnProperty(c)&&(r[c]=n[c]);if(function(){r.precision=parseInt(r.precision),r.modeSwitchSpeed=parseInt(r.modeSwitchSpeed),r.popupWidthOnDesktop=parseInt(r.popupWidthOnDesktop),r.fonts.clockOuterCircleFontSize=parseInt(r.fonts.clockOuterCircleFontSize),r.fonts.clockInnerCircleFontSize=parseInt(r.fonts.clockInnerCircleFontSize),r.fonts.buttonFontSize=parseInt(r.fonts.buttonFontSize),1!=r.precision&&5!=r.precision&&10!=r.precision&&15!=r.precision&&30!=r.precision&&60!=r.precision&&(console.error("%c[jquery-clock-timepicker] Invalid precision specified: "+r.precision+"! Precision has to be 1, 5, 10, 15, 30 or 60. For now, the precision has been set back to: 1","color:orange"),r.precision=1);r.separator&&!(""+r.separator).match(/[0-9]+/)||(console.error("%c[jquery-clock-timepicker] Invalid separator specified: "+(r.separator?r.separator:"(empty)")+"! The separator cannot be empty nor can it contain any decimals. For now, the separator has been set back to a colon (:).","color:orange"),r.separator=":");r.durationNegative&&!r.duration&&console.log("%c[jquery-clock-timepicker] durationNegative is set to true, but this has no effect because duration is false!","color:orange");r.maximum&&!r.maximum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "maximum": '+r.maximum+"! Maximum not used...","color:orange"),r.maximum=null);r.minimum&&!r.minimum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "minimum": '+r.minimum+"! Minimum not used...","color:orange"),r.minimum=null);!r.minimum||!r.maximum||r.minimum!=r.maximum&&l(r.minimum,r.maximum)||(console.log('%c[jquery-clock-timepicker] Option "minimum" must be smaller than the option "maximum"!',"color:orange"),r.minimum=null)}(),"vibrate"in navigator||(r.vibrate=!1),"string"!=typeof t){e(this).parent().hasClass("clock-timepicker")&&te(e(this)),a.val(ee(a.val())),s()&&a.prop("readonly",!0);var m=a.val(),p="",u="HOUR",d=!1,f=!1,h=s()?e(document).width()-80:r.popupWidthOnDesktop,g=h-(s()?50:20),v=parseInt(g/2),k=parseInt(g/2),x=parseInt(g/2),y=v-16,C=y-29;a.wrap('<div class="clock-timepicker" style="display:inline-block; position:relative">');var b,w=e('<div class="clock-timepicker-autosize">');if(w.css("position","absolute").css("opacity",0).css("display","none").css("top",parseInt(a.css("margin-top"))+"px").css("left","0px").css("font-size",a.css("font-size")).css("font-family",a.css("font-family")).css("font-weight",a.css("font-weight")).css("line-height",a.css("line-height")),a.parent().append(w),a.css("min-width",a.outerWidth()),Z(),s()){function I(e){e.preventDefault()}function M(e){return e.preventDefault(),e.stopImmediatePropagation(),"HOUR"==u?G():J(),!1}(b=e('<div class="clock-timepicker-background">')).css("zIndex",99998).css("display","none").css("position","fixed").css("top","0px").css("left","0px").css("width","100%").css("height","100%").css("backgroundColor","rgba(0,0,0,0.6)"),a.parent().append(b),b.off("touchmove",I),b.on("touchmove",I),b.off("click",M),b.on("click",M)}var T=e('<div class="clock-timepicker-popup">');if(T.css("display","none").css("zIndex",99999).css("cursor","default").css("position","absolute").css("width",h+"px").css("backgroundColor",r.colors.popupBackgroundColor).css("box-shadow","0 4px 20px 0px rgba(0, 0, 0, 0.14)").css("border-radius","5px").css("overflow","hidden").css("user-select","none"),T.on("contextmenu",function(){return!1}),s()){function P(e){e.preventDefault()}function E(e){return e.stopImmediatePropagation(),"HOUR"==u?G():J(),!1}T.css("position","fixed").css("left","40px").css("top","40px"),window.addEventListener("orientationchange",function(){setTimeout(function(){X(),q()},500)}),T.off("touchmove",P),T.on("touchmove",P),T.off("click",E),T.on("click",E)}if(a.parent().append(T),!s()){function O(t){"none"==T.css("display")||e(t.target)[0]==R[0]||e.contains(R.parent()[0],e(t.target)[0])||L()}e(window).off("click",O),e(window).on("click",O)}var R=a;s()&&((R=e('<input class="clock-timepicker-mobile-input" type="text">')).css("display","inline-block").css("width","100%").css("border","0px").css("border-radius","0px").css("outline","0px").css("fontSize",s()?"40px":"20px").css("margin","0px").css("padding","10px 0px").css("textAlign","center").css("color",r.colors.popupHeaderTextColor).css("backgroundColor",r.colors.popupHeaderBackgroundColor),R.prop("readonly",!0),T.append(R)),a.attr("autocomplete")&&a.attr("data-autocomplete-orig",a.attr("autocomplete")),a.prop("autocomplete","off"),a.attr("autocorrect")&&a.attr("data-autocorrect-orig",a.attr("autocorrect")),a.prop("autocorrect","off"),a.attr("autocapitalize")&&a.attr("data-autocapitalize-orig",a.attr("autocapitalize")),a.prop("autocapitalize","off"),a.attr("spellcheck")&&a.attr("data-spellcheck-orig",a.attr("spellcheck")),a.prop("spellcheck",!1),R.on("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker",function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),R.on("mousedown.clockTimePicker",oe),R.on("keyup.clockTimePicker",function(e){if((e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){var t,o=R.val().replace(/.[0-9]+$/,""),i=R.val().replace(/^(\+|-)?[0-9]+./,""),n="-"==R.val()[0],c=R.val();if(""==p)if(p=e.key,"HOUR"==u){t=ee((n?"-":"")+(r.duration?"":"0")+e.key+r.separator+i),r.maximum&&(l(t,r.maximum)?l((n?"-":"")+p+"0"+r.separator+i,r.maximum)||(s=!0):(l(t=r.maximum.substring(0,r.maximum.indexOf(":"))+r.separator+i,r.maximum)||(t=r.maximum),t=ee(t),s=!0)),r.minimum&&(l(r.minimum,t)?l(r.minimum,(n?"-":"")+p+"0"+r.separator+i)||(s=!0):(t=r.minimum.substring(0,r.minimum.indexOf(":"))+r.separator+i,l(r.minimum,t)||(t=r.minimum),t=ee(t),s=!0)),R.val(ee(t));var s=!r.duration&&parseInt(e.key)>2||r.maximum&&!l((n?"-":"")+parseInt(e.key)+"0:00",r.maximum)||r.minimum&&!l(r.minimum,(n?"-":"")+parseInt(e.key)+"0:00");s?(p="",60==r.precision?L():(Q(),J())):G()}else parseInt(e.key)>5?(t=ee(o+r.separator+"0"+e.key),r.maximum&&!l(t,r.maximum)?(t=ee(r.maximum),R.val(t),p=""):r.minimum&&!l(r.minimum,t)?(t=ee(r.minimum),R.val(t),p=""):(R.val(t),L())):(t=ee(o+r.separator+e.key+"0"),r.maximum&&!l(t,r.maximum)&&(t=ee(r.maximum),p=""),r.minimum&&!l(r.minimum,t)&&(t=ee(r.minimum),p=""),R.val(t),J());else if(r.duration)if("0"==p&&(p=""),"MINUTE"==u)t=ee(o+r.separator+p+e.key),r.maximum&&!l(t,r.maximum)?(t=ee(r.maximum),R.val(t),p=""):r.minimum&&!l(r.minimum,t)?(t=ee(r.minimum),R.val(t),p=""):(R.val(t),L());else{p+=e.key,t=(n?"-":"")+p+r.separator+i;var s=!1;r.maximum&&(l(t,r.maximum)?l((n?"-":"")+p+"0"+r.separator+i,r.maximum)||(s=!0):(l(t=r.maximum.substring(0,r.maximum.indexOf(":"))+r.separator+i,r.maximum)||(t=r.maximum),t=ee(t),s=!0)),r.minimum&&(l(r.minimum,t)?l(r.minimum,(n?"-":"")+p+"0"+r.separator+i)||(s=!0):(t=r.minimum.substring(0,r.minimum.indexOf(":"))+r.separator+i,l(r.minimum,t)||(t=r.minimum),t=ee(t),s=!0)),R.val(ee(t)),s?60==r.precision?L():(Q(),J(),p=""):G()}else if("HOUR"==u){var m=parseInt(p+e.key),d="HOUR"==u?24:60;m==d?(p="",t="00"+r.separator+i,R.val(ee(t)),60==r.precision?L():(Q(),J())):m>d?(p=e.key,t="0"+p+r.separator+i,R.val(ee(t)),G()):(t=p+e.key+r.separator+i,R.val(ee(t)),60==r.precision?L():(Q(),J(),p=""))}else t=o+r.separator+p+e.key,R.val(ee(t)),L();t!=c&&r.onAdjust.call(a.get(0),t.replace(/^\+/,""),c.replace(/^\+/,"")),Z()}q()}),R.on("keydown.clockTimePicker",function(e){if(9==e.keyCode)L();else if(13==e.keyCode)L();else if(27==e.keyCode)R.val(ee(m)),L();else if(8==e.keyCode||46==e.keyCode){if(p="",!R.val())return!1;var t=R.val();e.preventDefault(),new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(R.val());var o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),i=parseInt(RegExp.$2),n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==u?(c=0==i?r.required?(r.duration?"":"0")+"0"+r.separator+"00":"":(r.duration?"":"0")+"0"+r.separator+(n<10?"0":"")+n,R.val(ee(c)),c?G():L(),t!=c&&r.onAdjust.call(a.get(0),c.replace(/^\+/,""),t.replace(/^\+/,""))):0==n?0!=i||r.required?(_(),G()):(R.val(""),""!=t&&r.onAdjust.call(a.get(0),"",t.replace(/^\+/,"")),L()):(c=(o?"-":"")+(i<10&&!r.duration?"0":"")+i+r.separator+"00",R.val(ee(c)),J(),t!=c&&r.onAdjust.call(a.get(0),c.replace(/^\+/,""),t.replace(/^\+/,""))),Z()}else if(36!=e.keyCode&&37!=e.keyCode||""==R.val())if(35!=e.keyCode&&39!=e.keyCode||""==R.val())if(190==e.keyCode||e.key==r.separator)e.preventDefault(),0==R.val().length&&R.val("0"),R.val(ee(R.val())),60!=r.precision?(J(),"MINUTE"!=u&&Q()):G();else{if(!(38==e.keyCode||40==e.keyCode||107==e.keyCode||109==e.keyCode||189==e.keyCode||e.shiftKey&&49==e.keyCode))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;if(e.preventDefault(),""==m)return;var t=R.val();new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(R.val());var o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),i=parseInt(RegExp.$2);o&&(i=-i);var n=RegExp.$4?parseInt(RegExp.$4):0;r.duration&&r.durationNegative&&(107==e.keyCode||109==e.keyCode||189==e.keyCode||e.shiftKey&&49==e.keyCode)?(107==e.keyCode||49==e.keyCode?(i<0&&(i=-i),o=!1):(i>0&&(i=-i),o=!0),p=""):"HOUR"==u?(38==e.keyCode||107==e.keyCode||49==e.keyCode?r.duration&&r.durationNegative&&0==i&&o?o=!1:i+=1:r.duration&&r.durationNegative&&0==i&&!o?o=!0:i-=1,-1==i&&(r.duration?r.durationNegative||(i=0):i=23),24!=i||r.duration||(i=0)):(38==e.keyCode||109==e.keyCode||189==e.keyCode?n-=r.precision:n+=r.precision,n<0&&(n=60+n),n>=60&&(n-=60));var c=(i<10&&!r.duration?"0":"")+(o&&0==i?"-"+i:i)+r.separator+(n<10?"0":"")+n,s=!0;r.maximum&&!l(c,r.maximum)&&(s=!1),r.minimum&&!l(r.minimum,c)&&(s=!1),s||"HOUR"!=u||(c=38==e.keyCode?ee(r.maximum):ee(r.minimum),s=!0),s&&(R.val(ee(c)),c!=t&&r.onAdjust.call(a.get(0),c.replace(/^\+/,""),t.replace(/^\+/,"")),Z(),q(),"HOUR"==u?G():J())}else R.val(ee(R.val())),60!=r.precision&&"MINUTE"!=u?(J(),Q()):(e.preventDefault(),e.stopPropagation());else R.val(ee(R.val())),"HOUR"!=u?(G(),_()):(e.preventDefault(),e.stopPropagation())}),a.on("mousewheel.clockTimePicker",function(e){a.is(":focus")&&A(e)}),a.on("focus.clockTimePicker",function(e){s()?(Y(),_(!0),G()):setTimeout(function(){"none"==T.css("display")&&oe(e)},50)});var S=e("<div>");S.css("position","relative").css("width",g+"px").css("height",g+"px").css("margin","10px "+(s()?25:10)+"px"),T.append(S);var F=e('<canvas class="clock-timepicker-hour-canvas">');F.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px"),F.attr("width",g),F.attr("height",g),j(F),S.append(F);var z=e('<canvas class="clock-timepicker-minute-canvas">');if(z.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px").css("display","none"),z.attr("width",g),z.attr("height",g),j(z),S.append(z),s()){var H=e("<div>");H.css("text-align","right").css("padding","15px 30px");var $='<a style="text-decoration:none; color:'+r.colors.buttonTextColor+"; font-family:Arial; font-size:"+r.fonts.buttonFontSize+'px; padding-left:30px">',N=e($);N.html(r.i18n.cancelButton),N.on("click",function(){L()}),H.append(N);var U=e($);U.html(r.i18n.okButton),U.on("click",function(){s()&&a.val(R.val()),r.vibrate&&navigator.vibrate(10),L()}),H.append(U),T.append(H)}}else if(e(this).parent().hasClass("clock-timepicker"))if("dispose"==(t=t.toLowerCase()))te(e(this));else if("value"==t){e(this).val(ee(o));var D=e(this).parent().find(".clock-timepicker-mobile-input");D.length>0&&D.val(ee(o)),e(this).parent().find("canvas:first").trigger("keydown")}else console.log("%c[jquery-clock-timepicker] Invalid option passed to clockTimePicker: "+t,"color:red");else console.log("%c[jquery-clock-timepicker] Before calling a function, please initialize the ClockTimePicker!","color:red");function j(t){s()?(t.on("touchstart",function(t){t.preventDefault();var o=t.originalEvent.touches[0].pageX-e(this).offset().left,i=t.originalEvent.touches[0].pageY-e(this).offset().top,n=Math.sqrt(Math.pow(Math.abs(o-k),2)+Math.pow(Math.abs(i-x),2));if(r.duration&&r.durationNegative&&n<=20){f=!0;var c=R.val();return c.match(/^-/)?newVal=c.substring(1):newVal="-"+c.replace(/^(-|\+)/,""),r.minimum&&!l(r.minimum,newVal)&&(newVal=ee(r.minimum)),r.maximum&&!l(newVal,r.maximum)&&(newVal=ee(r.maximum)),R.val(ee(newVal)),q(),r.onAdjust.call(a.get(0),newVal.replace(/^\+/,""),c.replace(/^\+/,"")),void("HOUR"==u?G():J())}W(o,i),d=!0}),t.on("touchend",function(e){e.preventDefault(),d=!1,f||60==r.precision||(Q(),J()),f=!1}),t.on("touchmove",function(t){(t.preventDefault(),d)&&W(t.originalEvent.touches[0].pageX-e(this).offset().left,t.originalEvent.touches[0].pageY-e(this).offset().top)})):(t.on("mousedown",function(t){W(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top),d=!0}),t.on("mouseup",function(t){d=!1;var o=t.pageX-e(this).offset().left,i=t.pageY-e(this).offset().top,n=Math.sqrt(Math.pow(Math.abs(o-k),2)+Math.pow(Math.abs(i-x),2));if(r.duration&&r.durationNegative&&n<=20){var c=R.val();return c.match(/^-/)?newVal=c.substring(1):newVal="-"+c.replace(/^(-|\+)/,""),r.minimum&&!l(r.minimum,newVal)&&(newVal=ee(r.minimum)),r.maximum&&!l(newVal,r.maximum)&&(newVal=ee(r.maximum)),R.val(ee(newVal)),q(),r.onAdjust.call(a.get(0),newVal.replace(/^\+/,""),c.replace(/^\+/,"")),void("HOUR"==u?G():J())}if(!W(o,i,!0))return 60==r.precision?L():"HOUR"==u?(Q(),J()):L(),!1;"MINUTE"==u||60==r.precision?L():(Q(),J())}),t.on("mousemove",function(t){W(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top)}),t.on("mouseleave",function(e){"HOUR"==u?V():K()}),t.on("mousewheel",function(e){A(e)})),t.on("keydown",function(e){e.preventDefault(),W(),_(),G(),m=R.val()})}function A(e){var t=window.event||e;e.preventDefault();var o=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(R.val());var i=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),n=parseInt(RegExp.$2);i&&(n=-n);var c=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==u?(r.duration&&r.durationNegative&&0==n&&!i&&-1==o?i=!0:r.duration&&r.durationNegative&&0==n&&i&&1==o?i=!1:n+=o,-1==n&&(r.duration?r.durationNegative||(n=0):n=23),24!=n||r.duration||(n=0)):((c+=o*r.precision)<0&&(c=60+c),c>=60&&(c-=60));var s=R.val(),m=(n<10&&!r.duration?"0":"")+(i&&0==n?"-"+n:n)+r.separator+(c<10?"0":"")+c,p=!0;r.maximum&&!l(m,r.maximum)&&(p=!1),r.minimum&&!l(r.minimum,m)&&(p=!1),p||"HOUR"!=u||(m=ee(o>0?r.maximum:r.minimum),p=!0),p&&(R.val(ee(m)),Z(),q(),"HOUR"==u?G():J(),m!=s&&r.onAdjust.call(a.get(0),m.replace(/^\+/,""),s.replace(/^\+/,"")))}function W(e,t,o){var i=360*Math.atan((t-x)/(e-k))/(2*Math.PI)+90,n=Math.sqrt(Math.pow(Math.abs(e-k),2)+Math.pow(Math.abs(t-x),2)),c=0,s=0,m=!1;if(new RegExp("^(-|\\+)?([0-9]+).([0-9]{2})$").test(R.val())&&(m=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1),c=parseInt(RegExp.$2),s=parseInt(RegExp.$3)),"HOUR"==u){i=Math.round(i/30);var p=-1;if(n<v+10&&n>v-28?e-k>=0?p=0==i?12:i:e-k<0&&(p=i+6):n<v-28&&n>v-65&&(e-k>=0?p=0!=i?i+12:0:e-k<0&&24==(p=i+18)&&(p=0)),r.afternoonHoursInOuterCircle&&(p+=p>=12?-12:12),p>-1){var f=(m?"-":"")+(p<10&&!r.duration?"0":"")+p+r.separator+(s<10?"0":"")+s;if(d||o){var h=!0;if(r.maximum&&!l(f,r.maximum)&&(h=!1),r.minimum&&!l(r.minimum,f)&&(h=!1),h||(r.maximum&&l((m?"-":"")+(p<10&&!r.duration?"0":"")+p+r.separator+"00",r.maximum)&&(f=ee(r.maximum),h=!0),r.minimum&&!l(r.minimum,(m?"-":"")+(p<10&&!r.duration?"0":"")+p+r.separator+"00")&&(f=ee(r.minimum),h=!0)),h)f!=(C=R.val())&&(r.vibrate&&navigator.vibrate(10),r.onAdjust.call(a.get(0),f.replace(/^\+/,""),C.replace(/^\+/,""))),R.val(ee(f)),Z()}return V(0==p?24:p,r.duration&&r.durationNegative&&n<=12),!0}return V(null,r.duration&&r.durationNegative&&n<=12),!1}if("MINUTE"==u){i=Math.round(i/6);var g=-1;if(n<v+10&&n>v-40&&(e-k>=0?g=i:e-k<0&&60==(g=i+30)&&(g=0)),g>-1){if(1!=r.precision){var y=Math.floor(g/r.precision);(g=y*r.precision+(1==Math.round((g-y*r.precision)/r.precision)?r.precision:0))>=60&&(g=0)}var C;f=(m?"-":"")+(c<10&&!r.duration?"0":"")+c+r.separator+(g<10?"0":"")+g,h=!0;if(r.maximum&&!l(f,r.maximum)&&(h=!1),r.minimum&&!l(r.minimum,f)&&(h=!1),(d||o)&&h)f!=(C=R.val())&&(r.vibrate&&navigator.vibrate(10),r.onAdjust.call(a.get(0),f.replace(/^\+/,""),C.replace(/^\+/,""))),R.val(ee(f));return K(0==g?60:g,r.duration&&r.durationNegative&&n<=12),!0}return K(null,r.duration&&r.durationNegative&&n<=12),!1}}function q(){"HOUR"==u?V():K()}function B(e,t){e.beginPath(),e.arc(k,x,12,0,2*Math.PI,!1),e.fillStyle=r.colors.signButtonBackgroundColor,e.fill(),t&&(e.beginPath(),e.arc(k,x,14,0,2*Math.PI,!1),e.strokeStyle=r.colors.signButtonBackgroundColor,e.stroke()),e.beginPath(),e.moveTo(k-6,x),e.lineTo(k+6,x),e.lineWidth=2,e.strokeStyle=r.colors.signButtonColor,e.stroke(),R.val().match(/^-/)||(e.beginPath(),e.moveTo(k,x-6),e.lineTo(k,x+6),e.lineWidth=2,e.strokeStyle=r.colors.signButtonColor,e.stroke())}function V(e,t){var o=F.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(R.val());var a="-"==RegExp.$1,n=parseInt(RegExp.$2);if(o.clearRect(0,0,g,g),n>=24)T.css("visibility","hidden");else{if(r.onlyShowClockOnMobile||T.css("visibility","visible"),0==n&&(n=24),R.val()||(n=-1),o.beginPath(),o.arc(k,x,v,0,2*Math.PI,!1),o.fillStyle=r.colors.clockFaceColor,o.fill(),!s()&&e){var c=!0;r.maximum&&!l((a?"-":"")+(24==e?"00":e)+":00",r.maximum)&&(c=!1),r.minimum&&!l(r.minimum,(a?"-":"")+(24==e?"00":e)+":00",!0)&&(c=!1),c&&(o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(e%12-3))*(e>12?r.afternoonHoursInOuterCircle?y:C:r.afternoonHoursInOuterCircle?C:y),x+Math.sin(Math.PI/6*(e%12-3))*(e>12?r.afternoonHoursInOuterCircle?y:C:r.afternoonHoursInOuterCircle?C:y),15,0,2*Math.PI,!1),o.fillStyle=r.colors.hoverCircleColor,o.fill())}for(o.beginPath(),o.arc(k,x,3,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill(),n>-1&&(!r.maximum||24==n||l(n,r.maximum))&&(o.beginPath(),o.moveTo(k,x),o.lineTo(k+Math.cos(Math.PI/6*(n%12-3))*(n>12?r.afternoonHoursInOuterCircle?y:C:r.afternoonHoursInOuterCircle?C:y),x+Math.sin(Math.PI/6*(n%12-3))*(n>12?r.afternoonHoursInOuterCircle?y:C:r.afternoonHoursInOuterCircle?C:y)),o.lineWidth=1,o.strokeStyle=r.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(n%12-3))*(n>12?r.afternoonHoursInOuterCircle?y:C:r.afternoonHoursInOuterCircle?C:y),x+Math.sin(Math.PI/6*(n%12-3))*(n>12?r.afternoonHoursInOuterCircle?y:C:r.afternoonHoursInOuterCircle?C:y),15,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill()),o.font=r.fonts.clockOuterCircleFontSize+"px "+r.fonts.fontFamily,i=1;i<=12;i++){var m=Math.PI/6*(i-3),p=i;r.afternoonHoursInOuterCircle?(p=i+12,n==i+12?o.fillStyle=r.colors.selectorNumberColor:o.fillStyle=r.colors.clockInnerCircleTextColor,24==p&&(p="00")):n==i?o.fillStyle=r.colors.selectorNumberColor:o.fillStyle=r.colors.clockOuterCircleTextColor,r.maximum&&!l((a?"-":"")+p+":00",r.maximum)||r.minimum&&!l(r.minimum,(a?"-":"")+p+":00",!0)?r.hideUnselectableNumbers||(o.fillStyle=r.colors.clockOuterCircleUnselectableTextColor,o.fillText(p,k+Math.cos(m)*y-o.measureText(p).width/2,x+Math.sin(m)*y+r.fonts.clockOuterCircleFontSize/3)):o.fillText(p,k+Math.cos(m)*y-o.measureText(p).width/2,x+Math.sin(m)*y+r.fonts.clockOuterCircleFontSize/3)}for(o.font=r.fonts.clockInnerCircleFontSize+"px "+r.fonts.fontFamily,i=1;i<=12;i++){m=Math.PI/6*(i-3),p=i;r.afternoonHoursInOuterCircle?n==i?o.fillStyle=r.colors.selectorNumberColor:o.fillStyle=r.colors.clockOuterCircleTextColor:(p=i+12,n==i+12?o.fillStyle=r.colors.selectorNumberColor:o.fillStyle=r.colors.clockInnerCircleTextColor,24==p&&(p="00")),r.maximum&&!l((a?"-":"")+p+":00",r.maximum)||r.minimum&&!l(r.minimum,(a?"-":"")+p+":00",!0)?r.hideUnselectableNumbers||(o.fillStyle=r.colors.clockInnerCircleUnselectableTextColor,o.fillText(p,k+Math.cos(m)*C-o.measureText(p).width/2,x+Math.sin(m)*C+r.fonts.clockInnerCircleFontSize/3)):o.fillText(p,k+Math.cos(m)*C-o.measureText(p).width/2,x+Math.sin(m)*C+r.fonts.clockInnerCircleFontSize/3)}r.duration&&r.durationNegative&&B(o,t)}}function K(e,t){var o=z.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(R.val());var a="-"==RegExp.$1,n=parseInt(RegExp.$2),c=parseInt(RegExp.$3);if(R.val()||(c=-1),r.onlyShowClockOnMobile||T.css("visibility","visible"),o.clearRect(0,0,g,g),o.beginPath(),o.arc(k,x,v,0,2*Math.PI,!1),o.fillStyle=r.colors.clockFaceColor,o.fill(),!s()&&e){60==e&&(e=0);var m=!0;r.maximum&&!l((a?"-":"")+n+":"+(e<10?"0":"")+e,r.maximum)&&(m=!1),r.minimum&&!l(r.minimum,(a?"-":"")+n+":"+(e<10?"0":"")+e)&&(m=!1),m&&(o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(e/5-3))*y,x+Math.sin(Math.PI/6*(e/5-3))*y,15,0,2*Math.PI,!1),o.fillStyle=r.colors.hoverCircleColor,o.fill())}for(o.beginPath(),o.arc(k,x,3,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill(),!(c>-1)||r.maximum&&!l(n+":"+c,r.maximum)||r.minimum&&!l(r.minimum,n+":"+c)||(o.beginPath(),o.moveTo(k,x),o.lineTo(k+Math.cos(Math.PI/6*(c/5-3))*y,x+Math.sin(Math.PI/6*(c/5-3))*y),o.lineWidth=1,o.strokeStyle=r.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(c/5-3))*y,x+Math.sin(Math.PI/6*(c/5-3))*y,15,0,2*Math.PI,!1),o.fillStyle=r.colors.selectorColor,o.fill()),o.font=r.fonts.clockOuterCircleFontSize+"px "+r.fonts.fontFamily,i=1;i<=12;i++)if(Math.floor(5*i/r.precision)==5*i/r.precision){var p=Math.PI/6*(i-3);c==5*i||0==c&&12==i?o.fillStyle=r.colors.selectorNumberColor:o.fillStyle=r.colors.clockOuterCircleTextColor;var u=5*i==5?"05":5*i;60==u&&(u="00");m=!0;r.maximum&&!l((a?"-":"")+n+":"+u,r.maximum)&&(m=!1),r.minimum&&!l(r.minimum,(a?"-":"")+n+":"+u)&&(m=!1),m?o.fillText(u,k+Math.cos(p)*y-o.measureText(u).width/2,x+Math.sin(p)*y+r.fonts.clockOuterCircleFontSize/3):r.hideUnselectableNumbers||(o.fillStyle=r.colors.clockOuterCircleUnselectableTextColor,o.fillText(u,k+Math.cos(p)*y-o.measureText(u).width/2,x+Math.sin(p)*y+r.fonts.clockOuterCircleFontSize/3))}c>-1&&c%5!=0&&(o.beginPath(),o.arc(k+Math.cos(Math.PI/6*(c/5-3))*y,x+Math.sin(Math.PI/6*(c/5-3))*y,2,0,2*Math.PI,!1),o.fillStyle="white",o.fill()),r.duration&&r.durationNegative&&B(o,t)}function X(){var t;window.innerHeight<400?(h=window.innerHeight-60,T.css("width",h+200+"px"),R.css("position","absolute").css("left","0px").css("top","0px").css("width","200px").css("height",h+20+"px"),S.css("margin","10px 25px 0px 230px"),t=h+parseInt(S.css("margin-top"))+parseInt(S.css("margin-bottom"))):((h=window.innerWidth-80)>300&&(h=300),T.css("width",h+"px"),R.css("position","static").css("width","100%").css("height","auto"),S.css("margin","10px 25px 10px 25px"),t=h+parseInt(S.css("margin-top"))+parseInt(S.css("margin-bottom"))+65),T.css("left",parseInt((e("body").prop("clientWidth")-T.outerWidth())/2)+"px"),T.css("top",parseInt((window.innerHeight-t)/2)+"px"),g=h-50,v=parseInt(g/2),k=parseInt(g/2),x=parseInt(g/2),C=(y=v-16)-29,S.css("width",g+"px"),S.css("height",g+"px"),F.attr("width",g),F.attr("height",g),z.attr("width",g),z.attr("height",g)}function Y(){if(a.val()?R.val(ee(a.val())):R.val(ee("00:00")),!s()&&r.onlyShowClockOnMobile&&T.css("visibility","hidden"),s()&&X(),T.css("display","block"),q(),s())b.stop().css("opacity",0).css("display","block").animate({opacity:1},300);else{if(T.outerWidth()>a.outerWidth()){var t=parseInt((T.outerWidth()-a.outerWidth())/2);t<a.offset().left&&T.css("left",-t+"px")}var o=a.offset().top-e(window).scrollTop(),i=window.innerHeight-o-a.outerHeight();i<T.outerHeight()&&a.offset().top>T.outerHeight()?o<T.outerHeight()?o>i+a.outerHeight()?T.css("top",-T.outerHeight()+parseInt(a.css("marginTop"))+"px"):T.css("top",parseInt(a.css("marginTop"))+a.outerHeight()+"px"):T.css("top",-T.outerHeight()+parseInt(a.css("marginTop"))+"px"):T.css("top",parseInt(a.css("marginTop"))+a.outerHeight()+"px")}r.onOpen.call(a.get(0))}function L(){var t=ee(a.val());if(p="",T.css("display","none"),s()?b.stop().animate({opacity:0},300,function(){b.css("display","none")}):a.val(t),function(){if(e(document.activeElement).parents(".clock-timepicker").length){var t=document.createElement("input");a.parent().get(0).appendChild(t),t.focus(),a.parent().get(0).removeChild(t)}}(),!m&&t.match(new RegExp("^0+"+r.separator+"00$")))R.val("");else if(m!=t){var o;if("createEvent"in document)(o=document.createEvent("HTMLEvents")).initEvent("change",!0,!1),a.get(0).dispatchEvent(o);else(o=document.createEventObject()).eventType="click",a.get(0).fireEvent("onchange",o);r.onChange.call(a.get(0),t.replace(/^\+/,""),m.replace(/^\+/,"")),m=t}r.onClose.call(a.get(0))}function _(e){"HOUR"!=u&&(p="",V(),e?z.css("display","none"):z.css("zIndex",2).stop().animate({opacity:0,zoom:"80%",left:"10%",top:"10%"},r.modeSwitchSpeed,function(){z.css("display","none")}),F.stop().css("zoom","100%").css("left","0px").css("top","0px").css("display","block").css("opacity",1).css("zIndex",1),u="HOUR",r.onModeSwitch.call(a.get(0),u))}function Q(e){"MINUTE"!=u&&(p="",K(),z.stop().css("display","block").css("zoom","80%").css("left","10%").css("top","10%").css("opacity",0).css("zIndex",1),e?z.css("opacity",1).css("zoom","100%").css("left","0px").css("top","0px"):z.animate({opacity:1,zoom:"100%",left:"0px",top:"0px"}),u="MINUTE",r.onModeSwitch.call(a.get(0),u))}function G(){R.focus(),setTimeout(function(){R.get(0).setSelectionRange(0,R.val().indexOf(r.separator))},1)}function J(){R.focus(),setTimeout(function(){R.get(0).setSelectionRange(R.val().indexOf(r.separator)+1,R.val().length)},1)}function Z(){r.autosize&&!s()&&(w.html(a.val()),w.css("display","inline-block"),a.css("width",w.outerWidth()+5+parseInt(a.css("padding-left"))+parseInt(a.css("padding-right"))+"px"),w.css("display","none"))}function ee(e){if(""==e)return r.required?r.duration?"0:00":"00:00":e;if(new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2})?)?$","i").test(e)){var t=parseInt(RegExp.$2);(a=parseInt(RegExp.$4))||(a=0);var o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1);if(t>=24&&!r.duration&&(t%=24),a>=60&&(a%=60),1!=r.precision){var i=Math.floor(a/r.precision);(a=i*r.precision+(1==Math.round((a-i*r.precision)/r.precision)?r.precision:0))>=60&&(a=0)}e=(o?"-":"")+(t<10&&!r.duration?"0":"")+t+r.separator+(RegExp.$3?(a<10?"0":"")+a:"00")}else if(new RegExp("^(-|\\+)?.([0-9]{1,2})").test(e)){var a;(a=parseInt(RegExp.$2))>=60&&(a%=60),e=((o=!(!r.duration||!r.durationNegative||"-"!=RegExp.$1))&&a>0?"-":"")+"0"+(r.duration?"":"0")+r.separator+(a<10?"0":"")+a}else e="0"+(r.duration?"":"0")+r.separator+"00";return(r.duration&&r.useDurationPlusSign&&!e.match(/^\-/)&&!e.match(/^0+:00$/)?"+":"")+e}function te(e){e.parent().find(".clock-timepicker-autosize").remove(),e.parent().find(".clock-timepicker-background").remove(),e.parent().find(".clock-timepicker-popup").remove(),e.unwrap(),e.off("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker"),e.off("mousedown.clockTimePicker"),e.off("keyup.clockTimePicker"),e.off("keydown.clockTimePicker"),e.off("mousewheel.clockTimePicker"),e.off("focus.clockTimePicker"),e.attr("data-autocomplete-orig")?(e.attr("autocomplete",e.attr("data-autocomplete-orig")),e.removeAttr("data-autocomplete-orig")):e.removeAttr("autocomplete"),e.attr("data-autocorrect-orig")?(e.attr("autocorrect",e.attr("data-autocorrect-orig")),e.removeAttr("data-autocorrect-orig")):e.removeAttr("autocorrect"),e.attr("data-autocapitalize-orig")?(e.attr("autocapitalize",e.attr("data-autocapitalize-orig")),e.removeAttr("data-autocapitalize-orig")):e.removeAttr("autocapitalize"),e.attr("data-spellcheck-orig")?(e.attr("spellcheck",e.attr("data-spellcheck-orig")),e.removeAttr("data-spellcheck-orig")):e.removeAttr("spellcheck")}function oe(e){return function(e){var t="none"!=T.css("display");if(R.val())if(60==r.precision)_(!t),G();else{var o=R.css("direction");o||(o="ltr");var i=R.css("text-align");i||(i="left");var a=R.innerWidth(),n=parseFloat(R.css("padding-left")),c=a-n-parseFloat(R.css("padding-right"));w.css("display","inline-block"),w.html(R.val());var s=w.innerWidth();w.html(r.separator);var l=w.innerWidth()/2;w.html(R.val().replace(new RegExp(r.separator+"[0-9]+$"),"")),l+=w.innerWidth(),w.css("display","none");var m=a/2;"left"==i||"justify"==i||"ltr"==o&&"start"==i||"rtl"==o&&"end"==i?m=Math.floor(n+l):"center"==i?m=Math.floor(n+(c-s)/2+l):("right"==i||"ltr"==o&&"end"==i||"rtl"==o&&"start"==i)&&(m=Math.floor(n+c-(s-l))),e.offsetX>=m-2?("HOUR"==u&&r.vibrate&&navigator.vibrate(10),Q(!t),J()):("MINUTE"==u&&r.vibrate&&navigator.vibrate(10),_(!t),G())}else R.val(ee("00:00")),_(!t),G();t||Y()}(e),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1}});function s(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function l(e,t,o){var i="^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$";new RegExp(i,"i").test(e);var a=60*parseInt(RegExp.$2);RegExp.$4&&!o&&(a+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(a*=-1),new RegExp(i,"i").test(t);var r=60*parseInt(RegExp.$2);return RegExp.$4&&!o&&(r+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(r*=-1),a<=r}}}(jQuery);